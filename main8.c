/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   main8.c                                            :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: rgero <rgero@student.42.fr>                +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2019/12/13 16:09:21 by rgero             #+#    #+#             */
/*   Updated: 2020/01/26 17:41:31 by rgero            ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include <stdio.h>
#include <string.h>
 
/* c = a * b.  Caller is responsible for memory.
   c must not be the same as either a or b. */
void longmulti(const char *a, const char *b, char *c)
{
	int i = 0, j = 0, k = 0, n, carry;
	int la, lb;
 
	/* either is zero, return "0" */
	if (!strcmp(a, "0") || !strcmp(b, "0")) {
		c[0] = '0', c[1] = '\0';
		return;
	}
 
	/* see if either a or b is negative */
	if (a[0] == '-') { i = 1; k = !k; }
	if (b[0] == '-') { j = 1; k = !k; }
 
	/* if yes, prepend minus sign if needed and skip the sign */
	if (i || j) {
		if (k) c[0] = '-';
		longmulti(a + i, b + j, c + k);
		return;
	}
 
	la = strlen(a);
	lb = strlen(b);
	memset(c, '0', la + lb);
	c[la + lb] = '\0';
 
#	define I(a) (a - '0')
	for (i = la - 1; i >= 0; i--) {
		for (j = lb - 1, k = i + j + 1, carry = 0; j >= 0; j--, k--) {
			n = I(a[i]) * I(b[j]) + I(c[k]) + carry;
			carry = n / 10;
			c[k] = (n % 10) + '0';
		}
		c[k] += carry;
	}
#	undef I
	if (c[0] == '0') memmove(c, c + 1, la + lb);
 
	return;
}
 /*
int main()
{
	char c[1024000];

	longmulti("11897314953572317650857593266280071307634446870965102374726748212332\
61358180483686904488595472612039915115437484839309258897667381308687\
42627452469834156500608087163436600489752214325161953144684595234570\
94821358470366474648309847847142809678456141384760443384048861229052\
86855313236158695999885790106357018120815363320780964323712757164290\
61340687520241736532395026788008906751737227061083564754575578079343\
16222134519038178596306903113438506575393606496451932831782917676589\
65405285113556134369793281725888015908414675289832538063419234888599\
89898062311402512167447205187243932132319840294270534136695127473901\
45938168982889944451734003646179283771380744113457918485735950771704\
37644191743889644885377684738322240608239079061399475675334739784016\
49174262148522901484767233597789715839733422634973481144165307775825\
09889260308947896046761531042572601418068230275880034419514553277015\
98071281589597169413965608439504983171255062282026626200048042149808\
20000206099343368123762385788062747972707287748283843870504803416463\
33370133854059980407019086623873016050181882625737237662792407989317\
17708807901740265407930976419648877869604017517691938687988088008944\
25125882696968836419413394578015784436494605271365545490632718742853\
18951002786951193234968087036304361939275926923448208128342973644786\
86862064169042458555136532055050508189891866846863799917647547291371\
57350070101519755909745304003303152068351821649419563669607774811059\
82849013436114692142741218104950779792755566451649838500620510665170\
84647369464036640569339464837172183352956873912042640003611618789278\
19571005209456276130670355184033011064510199543516762668866962776382\
06043424803579064153542127329467560730069070888704961250500681566592\
52761297664065498347492661798824062312210409274584565587264846417650\
16012317587403472626195728908146619765155383074442470969863475362777\
03562271261450525491252294480401491147956813598759685128085752442718\
71455454084894986155020794806980939215658055319165641681105966454159\
95147690858312972150329881658514207306148088802176981833841712939687\
83714595758460525831429284472497036985481252957759209364500226514272\
49949580708203966082847550921891152133321048011973883636577825533325\
98885215632543933502131531213408139045102125536370790349591696312592\
42011678771901089352559145394882168971179432693736086390744727927511\
16715127106396425081353553137213552890539802602978645319795100976432\
93909192466022887891290065421011828729829870738215971718456954051540\
30291733072924543917895686742196407614511736006177521869919133668370\
33887201582071625868247133104513315097274713442728340606642890406496\
63610444321775281122747002916285809372770104964649954022098398193278\
66132042542264642436896101074299231976386815458375617735355689845360\
53627234424277105760924864023781629665526314910906960488073475217005\
12113631187043992576250866603256621375041669571991967422321060672472\
13734712340216135407121882399097019719439443474803142179038863177677\
79921539892177334344368907550318800833546852344370327089284147501640\
58944848200125423738668007445734191093377489195968101651606910614990\
55724258108955869388330674902049003686241663019685530056870402850954\
50484840073528643826570403767157286512380255109954518857013476588189\
30000413884971588313986607154757481647672763511643546280440111271139\
25291805707941934226868183532127990689722476971914742681579121959737\
94192807298886952361100880264258801320928040011928153970801130741339\
55000329901592497825993697435872628614398052011245436927111408374791\
90078034065963213534170040688694434054721406759636409974050092258035\
05672726465095506267339268892424364561897661906898424186770491035344\
08039924832709791171288114017038418205860161475828420075018350032935\
84996918640665905396607090695373816018876790466577596545880019371177\
71344698326428792622894338016112445533539447087462049763409147542099\
24881552139592938800771117201789489779370660427348098516102881545878\
79111609791134224335575491709054420263972756952832073053318454199907\
49347810524006194197200591652147867193696254337864981603833146354201\
70062881794717751811521767435201651117234772772707522005617774821892\
85971583467445413371073584277579196605625838838232621789616917872261\
18865632764934288772405859754877759869235530653929937901193611669007\
47235474636076460187244203137994413982436682869879021292299617419272\
86258917200576125093491004825459641520464779251144465007321641090993\
45259799455690095576788686397487061948854749024863607921857834205793\
79718883477965627347911238858570642483637907235541028678701852740165\
39342198883610619496719610550686869614680190356297494240865871950410\
04404915266476272761070511568387063401264136517237211409916458796347\
62494921590453393721093752046579830017540801753886231271904236103712\
93388965860281500465960788724443655644805456890335759557029883967197\
44528212984142578483954005084264327730840985420021409069485412320805\
26852009414679887611041458317039047398248889922809181821393428829567\
9717369943152460447027290669964066816", "11897314953572317650857593266280071307634446870965102374726748212332\
61358180483686904488595472612039915115437484839309258897667381308687\
42627452469834156500608087163436600489752214325161953144684595234570\
94821358470366474648309847847142809678456141384760443384048861229052\
86855313236158695999885790106357018120815363320780964323712757164290\
61340687520241736532395026788008906751737227061083564754575578079343\
16222134519038178596306903113438506575393606496451932831782917676589\
65405285113556134369793281725888015908414675289832538063419234888599\
89898062311402512167447205187243932132319840294270534136695127473901\
45938168982889944451734003646179283771380744113457918485735950771704\
37644191743889644885377684738322240608239079061399475675334739784016\
49174262148522901484767233597789715839733422634973481144165307775825\
09889260308947896046761531042572601418068230275880034419514553277015\
98071281589597169413965608439504983171255062282026626200048042149808\
20000206099343368123762385788062747972707287748283843870504803416463\
33370133854059980407019086623873016050181882625737237662792407989317\
17708807901740265407930976419648877869604017517691938687988088008944\
25125882696968836419413394578015784436494605271365545490632718742853\
18951002786951193234968087036304361939275926923448208128342973644786\
86862064169042458555136532055050508189891866846863799917647547291371\
57350070101519755909745304003303152068351821649419563669607774811059\
82849013436114692142741218104950779792755566451649838500620510665170\
84647369464036640569339464837172183352956873912042640003611618789278\
19571005209456276130670355184033011064510199543516762668866962776382\
06043424803579064153542127329467560730069070888704961250500681566592\
52761297664065498347492661798824062312210409274584565587264846417650\
16012317587403472626195728908146619765155383074442470969863475362777\
03562271261450525491252294480401491147956813598759685128085752442718\
71455454084894986155020794806980939215658055319165641681105966454159\
95147690858312972150329881658514207306148088802176981833841712939687\
83714595758460525831429284472497036985481252957759209364500226514272\
49949580708203966082847550921891152133321048011973883636577825533325\
98885215632543933502131531213408139045102125536370790349591696312592\
42011678771901089352559145394882168971179432693736086390744727927511\
16715127106396425081353553137213552890539802602978645319795100976432\
93909192466022887891290065421011828729829870738215971718456954051540\
30291733072924543917895686742196407614511736006177521869919133668370\
33887201582071625868247133104513315097274713442728340606642890406496\
63610444321775281122747002916285809372770104964649954022098398193278\
66132042542264642436896101074299231976386815458375617735355689845360\
53627234424277105760924864023781629665526314910906960488073475217005\
12113631187043992576250866603256621375041669571991967422321060672472\
13734712340216135407121882399097019719439443474803142179038863177677\
79921539892177334344368907550318800833546852344370327089284147501640\
58944848200125423738668007445734191093377489195968101651606910614990\
55724258108955869388330674902049003686241663019685530056870402850954\
50484840073528643826570403767157286512380255109954518857013476588189\
30000413884971588313986607154757481647672763511643546280440111271139\
25291805707941934226868183532127990689722476971914742681579121959737\
94192807298886952361100880264258801320928040011928153970801130741339\
55000329901592497825993697435872628614398052011245436927111408374791\
90078034065963213534170040688694434054721406759636409974050092258035\
05672726465095506267339268892424364561897661906898424186770491035344\
08039924832709791171288114017038418205860161475828420075018350032935\
84996918640665905396607090695373816018876790466577596545880019371177\
71344698326428792622894338016112445533539447087462049763409147542099\
24881552139592938800771117201789489779370660427348098516102881545878\
79111609791134224335575491709054420263972756952832073053318454199907\
49347810524006194197200591652147867193696254337864981603833146354201\
70062881794717751811521767435201651117234772772707522005617774821892\
85971583467445413371073584277579196605625838838232621789616917872261\
18865632764934288772405859754877759869235530653929937901193611669007\
47235474636076460187244203137994413982436682869879021292299617419272\
86258917200576125093491004825459641520464779251144465007321641090993\
45259799455690095576788686397487061948854749024863607921857834205793\
79718883477965627347911238858570642483637907235541028678701852740165\
39342198883610619496719610550686869614680190356297494240865871950410\
04404915266476272761070511568387063401264136517237211409916458796347\
62494921590453393721093752046579830017540801753886231271904236103712\
93388965860281500465960788724443655644805456890335759557029883967197\
44528212984142578483954005084264327730840985420021409069485412320805\
26852009414679887611041458317039047398248889922809181821393428829567\
9717369943152460447027290669964066816", c);
	printf("%s\n", c);
 
	return 0;
}
*/